{"ast":null,"code":"import _defineProperty from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"../App.css\";import axios from\"axios\";import{withRouter}from\"react-router-dom\";//\nvar Info=/*#__PURE__*/function(_Component){_inherits(Info,_Component);function Info(){var _getPrototypeOf2;var _this;_classCallCheck(this,Info);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Info)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={first_name:_this.props.data.first_name,last_name:_this.props.data.last_name,email:_this.props.data.email,flag:false,passFlag:false,data:_this.props.data,password:'password'};_this.handleEdit=function(){_this.setState({flag:!_this.state.flag});};_this.handlePassword=function(){_this.setState({passFlag:!_this.state.passFlag});_this.setState({password:''});};_this.handleSave=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var editedData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios({method:\"put\",url:\"/api/v1/users/profile/\".concat(_this.props.data._id),headers:{\"Content-Type\":\"application/json\"},data:{first_name:_this.state.first_name,last_name:_this.state.last_name}});case 2:editedData=_context.sent;if(editedData.data.msg===\"edited successfully\"){localStorage.removeItem(\"usertoken\");_this.props.history.push(\"/login\");}case 4:case\"end\":return _context.stop();}}},_callee);}));_this.handleSavePassword=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var editedData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios({method:\"put\",url:\"/api/v1/users/profile/\".concat(_this.props.data._id),headers:{\"Content-Type\":\"application/json\"},data:{password:_this.state.password}});case 2:editedData=_context2.sent;if(editedData.data.msg===\"edited successfully\"){localStorage.removeItem(\"usertoken\");_this.props.history.push(\"/login\");}case 4:case\"end\":return _context2.stop();}}},_callee2);}));_this.onChangeHandler=function(e){if(_this.state.flag){_this.setState(_defineProperty({},e.target.name,e.target.value));}};_this.onPasswordChangeHandler=function(e){if(_this.state.passFlag){_this.setState(_defineProperty({},e.target.name,e.target.value));}};return _this;}_createClass(Info,[{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(\"div\",{className:this.state.flag?\"hide\":\"show\"},React.createElement(\"label\",{htmlFor:\"\"},\"First Name :\"),React.createElement(\"label\",null,this.props.data.first_name)),React.createElement(\"div\",{className:this.state.flag?\"show\":\"hide\"},React.createElement(\"label\",{htmlFor:\"\"},\"First Name :\"),React.createElement(\"input\",{type:\"text\",name:\"first_name\",id:\"\",value:this.state.first_name,onChange:this.onChangeHandler})),React.createElement(\"div\",{className:this.state.flag?\"hide\":\"show\"},React.createElement(\"label\",{htmlFor:\"\"},\"Last Name :\"),React.createElement(\"label\",null,this.props.data.last_name)),React.createElement(\"div\",{className:this.state.flag?\"show\":\"hide\"},React.createElement(\"label\",{htmlFor:\"\"},\"Last Name :\"),React.createElement(\"input\",{type:\"text\",name:\"last_name\",id:\"\",value:this.state.last_name,onChange:this.onChangeHandler})),React.createElement(\"div\",{className:\"show\"},React.createElement(\"label\",{htmlFor:\"\"},\"Email :\"),React.createElement(\"label\",{htmlFor:\"\"},this.props.data.email)),React.createElement(\"div\",{className:this.state.passFlag?\"show\":\"hide\"},React.createElement(\"label\",{htmlFor:\"\"},\"password :\"),React.createElement(\"input\",{type:\"password\",name:\"password\",id:\"\",value:this.state.password,onChange:this.onPasswordChangeHandler})),React.createElement(\"div\",{className:this.state.passFlag?\"hide\":\"show\"},React.createElement(\"label\",{htmlFor:\"\"},\"Password :\"),React.createElement(\"label\",null,\"******************\")),React.createElement(\"div\",null,React.createElement(\"button\",{onClick:this.handleEdit},\"edit fields\"),React.createElement(\"button\",{onClick:this.handleSave},\"save\"),React.createElement(\"button\",{onClick:this.handlePassword},\"edit password\"),React.createElement(\"button\",{onClick:this.handleSavePassword},\"save new password\")));}}]);return Info;}(Component);export default withRouter(Info);","map":{"version":3,"sources":["/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/src/components/Info.jsx"],"names":["React","Component","axios","withRouter","Info","state","first_name","props","data","last_name","email","flag","passFlag","password","handleEdit","setState","handlePassword","handleSave","method","url","_id","headers","editedData","msg","localStorage","removeItem","history","push","handleSavePassword","onChangeHandler","e","target","name","value","onPasswordChangeHandler"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\n\n//\nclass Info extends Component {\n  state = {\n    first_name: this.props.data.first_name,\n    last_name: this.props.data.last_name,\n    email: this.props.data.email,\n    flag: false,\n    passFlag: false,\n    data: this.props.data,\n    password:'password'\n  };\n\n  handleEdit = () => {\n    this.setState({ flag: !this.state.flag });\n  };\n  handlePassword = () => {\n    this.setState({ passFlag: !this.state.passFlag });\n    this.setState({password:''})\n  };\n  handleSave = async () => {\n    let editedData = await axios({\n      method: \"put\",\n      url: `/api/v1/users/profile/${this.props.data._id}`,\n      headers: { \"Content-Type\": \"application/json\" },\n      data: {\n        first_name: this.state.first_name,\n        last_name: this.state.last_name\n      }\n    });\n\n    if (editedData.data.msg === \"edited successfully\") {\n      localStorage.removeItem(\"usertoken\");\n      this.props.history.push(\"/login\");\n    }\n  };\n  handleSavePassword = async () => {\n    let editedData = await axios({\n      method: \"put\",\n      url: `/api/v1/users/profile/${this.props.data._id}`,\n      headers: { \"Content-Type\": \"application/json\" },\n      data: {\n        password: this.state.password\n      }\n    });\n\n    if (editedData.data.msg === \"edited successfully\") {\n      localStorage.removeItem(\"usertoken\");\n      this.props.history.push(\"/login\");\n    }\n  };\n  onChangeHandler = e => {\n    if (this.state.flag) {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n  onPasswordChangeHandler = e => {\n    if (this.state.passFlag) {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n\n  render() {\n\n    return (\n      <div>\n        <div className={this.state.flag ? \"hide\" : \"show\"}>\n          <label htmlFor=\"\">First Name :</label>\n          <label>{this.props.data.first_name}</label>\n        </div>\n        <div className={this.state.flag ? \"show\" : \"hide\"}>\n          <label htmlFor=\"\">First Name :</label>\n          <input\n            type=\"text\"\n            name=\"first_name\"\n            id=\"\"\n            value={this.state.first_name}\n            onChange={this.onChangeHandler}\n          />\n        </div>\n        <div className={this.state.flag ? \"hide\" : \"show\"}>\n          <label htmlFor=\"\">Last Name :</label>\n          <label>{this.props.data.last_name}</label>\n        </div>\n        <div className={this.state.flag ? \"show\" : \"hide\"}>\n          <label htmlFor=\"\">Last Name :</label>\n          <input\n            type=\"text\"\n            name=\"last_name\"\n            id=\"\"\n            value={this.state.last_name}\n            onChange={this.onChangeHandler}\n          />\n        </div>\n        <div className=\"show\">\n          <label htmlFor=\"\">Email :</label>\n          <label htmlFor=\"\">{this.props.data.email}</label>\n        </div>\n        <div className={this.state.passFlag ? \"show\" : \"hide\"}>\n          <label htmlFor=\"\">password :</label>\n          <input\n            type=\"password\"\n            name=\"password\"\n            id=\"\"\n            value={this.state.password}\n            onChange={this.onPasswordChangeHandler}\n          />\n        </div>\n        <div className={this.state.passFlag ? \"hide\" : \"show\"}>\n          <label htmlFor=\"\">Password :</label>\n          <label>******************</label>\n        </div>\n        <div>\n          <button onClick={this.handleEdit}>edit fields</button>\n          <button onClick={this.handleSave}>save</button>\n          <button onClick={this.handlePassword}>edit password</button>\n          <button onClick={this.handleSavePassword}>save new password</button>\n        </div>\n      </div>\n    );\n  }\n}\nexport default withRouter(Info);\n"]},"metadata":{},"sourceType":"module"}