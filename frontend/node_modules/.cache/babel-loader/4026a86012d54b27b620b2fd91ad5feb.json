{"ast":null,"code":"import _defineProperty from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/regenerator\";import _toConsumableArray from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"bootstrap/dist/css/bootstrap.min.css\";import\"mdbreact/dist/css/mdb.css\";import{BrowserRouter as Router,Route}from\"react-router-dom\";import\"./App.css\";import Navbar from\"./components/navbar\";import Footer from\"./components/footer\";import Home from\"./components/home\";import Malls from\"./components/malls\";import Restaurants from\"./components/restaurants\";import Entertainment from\"./components/entertainment\";import Service from\"./components/service\";import Aboutus from\"./components/aboutus\";import Stores from\"./components/stores\";import Brands from\"./components/brands\";import axios from\"axios\";import MyProfile from\"./components/MyProfile\";import Booking from\"./components/booking\";import Login from\"./components/container/Login\";import Signup from\"./components/container/Signup\";import jwt_decode from\"jwt-decode\";import StoreDetails from\"./components/StoreDetails\";var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);function App(props){var _this;_classCallCheck(this,App);_this=_possibleConstructorReturn(this,_getPrototypeOf(App).call(this,props));_this.userLogIn=function(info){_this.setState({info:info});};_this.filterList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(string){var itemstmp,searchWord,filtered;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:itemstmp=_toConsumableArray(_this.state.data);searchWord=new RegExp(string+\".*\");_context.next=4;return _this.state.data.filter(function(item){return item.mall_name.toLowerCase().match(searchWord);});case 4:filtered=_context.sent;if(filtered.length>0){console.log(\"filtered: \",filtered);_this.setState({data:filtered,items:itemstmp});}case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.filteStore=function(string){{var itemstmpStore=_toConsumableArray(_this.state.stores);var searchWord=new RegExp(string+\".*\");var filtered=itemstmpStore.filter(function(item){return item.store_name.toLowerCase().match(searchWord);});if(filtered.length>0){console.log(\"filtered: \",filtered);_this.setState({stores:filtered,items:itemstmpStore});}}};_this.changeSelectStores=function(selectstores){_this.setState({stores:selectstores});};_this.changeSelecMall=function(select){_this.setState({selectMall:select});};_this.componentWillMount=function(){_this.setState({initialItems:_this.state.data,items:_this.state.data});};_this.state={data:[],items:[],searchbar:\"\",selectMall:\"\",stores:[],user:{},token:\"\",login:false};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _this2=this;var token,decoded;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:axios.get(\"/api/v1/malls/\").then(function(res){_this2.setState({data:res.data});});if(!localStorage.usertoken){_context2.next=7;break;}token=localStorage.usertoken;_context2.next=5;return jwt_decode(token);case 5:decoded=_context2.sent;this.setState({user:decoded.user});case 7:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){var _React$createElement,_this3=this;return React.createElement(Router,null,React.createElement(Navbar,null),React.createElement(\"br\",null),React.createElement(Route,(_React$createElement={exact:true,path:\"/\"},_defineProperty(_React$createElement,\"exact\",true),_defineProperty(_React$createElement,\"component\",Home),_React$createElement)),React.createElement(Route,{exact:true,path:\"/malls\",render:function render(props){return React.createElement(Malls,Object.assign({},props,{data:_this3.state.data,filterList:_this3.filterList,changeSelecMall:_this3.changeSelecMall}));}}),React.createElement(Route,{path:\"/stores\",render:function render(props){return React.createElement(Stores,Object.assign({},props,{data:_this3.state.data,selectMall:_this3.state.selectMall,changeSelectStores:_this3.changeSelectStores}));}}),React.createElement(Route,{path:\"/brands\",render:function render(props){return React.createElement(Brands,Object.assign({},props,{data:_this3.state,filterStore:_this3.filterStore,changeSelectStores:_this3.changeSelectStores,stor:_this3.state.stores}));}}),React.createElement(Route,{path:\"/restaurants\",component:Restaurants}),React.createElement(Route,{path:\"/entertainment\",component:Entertainment}),React.createElement(Route,{path:\"/StoreDetails\",component:StoreDetails}),React.createElement(Route,{path:\"/service\",component:Service}),React.createElement(Route,{path:\"/aboutus\",component:Aboutus}),React.createElement(Route,{path:\"/myprofile\",component:MyProfile}),React.createElement(Route,{path:\"/booking\",render:function render(props){return React.createElement(Booking,Object.assign({},props,{user:_this3.state.user}));}}),React.createElement(Route,{exact:true,path:\"/register\",component:Signup}),React.createElement(Route,{exact:true,path:\"/login\",render:function render(){return React.createElement(Login,{userLogIn:_this3.userLogIn});}}));}}]);return App;}(Component);export{App as default};","map":{"version":3,"sources":["/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","Navbar","Footer","Home","Malls","Restaurants","Entertainment","Service","Aboutus","Stores","Brands","axios","MyProfile","Booking","Login","Signup","jwt_decode","StoreDetails","App","props","userLogIn","info","setState","filterList","string","itemstmp","state","data","searchWord","RegExp","filter","item","mall_name","toLowerCase","match","filtered","length","console","log","items","filteStore","itemstmpStore","stores","store_name","changeSelectStores","selectstores","changeSelecMall","select","selectMall","componentWillMount","initialItems","searchbar","user","token","login","get","then","res","localStorage","usertoken","decoded","filterStore"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"mdbreact/dist/css/mdb.css\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport \"./App.css\";\nimport Navbar from \"./components/navbar\";\nimport Footer from \"./components/footer\";\nimport Home from \"./components/home\";\nimport Malls from \"./components/malls\";\nimport Restaurants from \"./components/restaurants\";\nimport Entertainment from \"./components/entertainment\";\nimport Service from \"./components/service\";\nimport Aboutus from \"./components/aboutus\";\nimport Stores from \"./components/stores\";\nimport Brands from \"./components/brands\";\nimport axios from \"axios\";\nimport MyProfile from \"./components/MyProfile\";\nimport Booking from \"./components/booking\";\nimport Login from \"./components/container/Login\";\nimport Signup from \"./components/container/Signup\";\nimport jwt_decode from \"jwt-decode\";\nimport StoreDetails from \"./components/StoreDetails\";\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      items: [],\n      searchbar: \"\",\n      selectMall: \"\",\n      stores: [],\n      user: {},\n      token: \"\",\n      login: false\n    };\n  }\n  userLogIn = info => {\n    this.setState({ info });\n  };\n\n  filterList = async string => {\n    let itemstmp = [...this.state.data];\n    let searchWord = new RegExp(string + \".*\");\n    let filtered = await this.state.data.filter(item => {\n      return item.mall_name.toLowerCase().match(searchWord);\n    });\n    if (filtered.length > 0) {\n      console.log(\"filtered: \", filtered);\n      this.setState({ data: filtered, items: itemstmp });\n    }\n  };\n\n  filteStore = string => {\n    {\n      let itemstmpStore = [...this.state.stores];\n      let searchWord = new RegExp(string + \".*\");\n      let filtered = itemstmpStore.filter(item => {\n        return item.store_name.toLowerCase().match(searchWord);\n      });\n      if (filtered.length > 0) {\n        console.log(\"filtered: \", filtered);\n        this.setState({ stores: filtered, items: itemstmpStore });\n      }\n    }\n  };\n\n  changeSelectStores = selectstores => {\n    this.setState({ stores: selectstores });\n  };\n\n  changeSelecMall = select => {\n    this.setState({ selectMall: select });\n  };\n\n  componentWillMount = () => {\n    this.setState({\n      initialItems: this.state.data,\n      items: this.state.data\n    });\n  };\n\n  async componentDidMount() {\n    axios.get(\"/api/v1/malls/\").then(res => {\n      this.setState({ data: res.data });\n    });\n    if (localStorage.usertoken) {\n      const token = localStorage.usertoken;\n      const decoded = await jwt_decode(token);\n      this.setState({ user: decoded.user });\n    }\n  }\n\n  render() {\n    return (\n      <Router>\n        <Navbar />\n        <br />\n        <Route exact path=\"/\" exact component={Home} />\n        <Route\n          exact\n          path=\"/malls\"\n          render={props => (\n            <Malls\n              {...props}\n              data={this.state.data}\n              filterList={this.filterList}\n              changeSelecMall={this.changeSelecMall}\n            />\n          )}\n        />\n        <Route\n          path=\"/stores\"\n          render={props => (\n            <Stores\n              {...props}\n              data={this.state.data}\n              selectMall={this.state.selectMall}\n              changeSelectStores={this.changeSelectStores}\n            />\n          )}\n        />\n        {/* <Route exact path=\"/admin\" to=\"http://localhost:2550/admin\" />\n        <Route\n          exact\n          path=\"/AdminRole\"\n          render={props => <AdminRole {...props} data={this.state.data} />}\n        /> */}\n        <Route\n          path=\"/brands\"\n          render={props => (\n            <Brands\n              {...props}\n              data={this.state}\n              filterStore={this.filterStore}\n              changeSelectStores={this.changeSelectStores}\n              stor={this.state.stores}\n            />\n          )}\n        />\n        <Route path=\"/restaurants\" component={Restaurants} />\n        <Route path=\"/entertainment\" component={Entertainment} />\n        <Route path=\"/StoreDetails\" component={StoreDetails} />\n        <Route path=\"/service\" component={Service} />\n        <Route path=\"/aboutus\" component={Aboutus} />\n        <Route path=\"/myprofile\" component={MyProfile} />\n        <Route\n          path=\"/booking\"\n          render={props => <Booking {...props} user={this.state.user} />}\n        />\n        <Route exact path=\"/register\" component={Signup} />\n        <Route\n          exact\n          path=\"/login\"\n          render={() => <Login userLogIn={this.userLogIn} />}\n        />\n\n        {/* <Footer /> */}\n      </Router>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}