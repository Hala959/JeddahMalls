{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import\"../App.css\";import{Tab,Tabs,TabList,TabPanel}from\"react-tabs\";import\"react-tabs/style/react-tabs.css\";import Bookings from\"./Bookings\";import Info from\"./Info\";import jwt_decode from\"jwt-decode\";var MyProfile=/*#__PURE__*/function(_Component){_inherits(MyProfile,_Component);function MyProfile(){var _getPrototypeOf2;var _this;_classCallCheck(this,MyProfile);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(MyProfile)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={};return _this;}_createClass(MyProfile,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,decoded;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;if(localStorage.usertoken){_context.next=5;break;}this.props.history.push(\"/login\");_context.next=10;break;case 5:token=localStorage.usertoken;_context.next=8;return jwt_decode(token);case 8:decoded=_context.sent;this.setState(decoded.user);case 10:_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);alert('check your credintials');console.log(_context.t0);this.props.history.push(\"/login\");case 17:case\"end\":return _context.stop();}}},_callee,this,[[0,12]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return React.createElement(\"div\",null,React.createElement(Tabs,{className:\"tabStyles\"},React.createElement(TabList,null,React.createElement(Tab,null,React.createElement(\"h5\",null,React.createElement(\"i\",{class:\"fas fa-user-circle\"},\"My Profile\"))),React.createElement(Tab,null,React.createElement(\"h5\",null,React.createElement(\"i\",{class:\"fas fa-history\"},\"My Bookings\")))),React.createElement(TabPanel,null,React.createElement(Info,{data:this.state})),React.createElement(TabPanel,null,React.createElement(Bookings,{data:this.state}))));}}]);return MyProfile;}(Component);export{MyProfile as default};","map":{"version":3,"sources":["/Users/hishambinseddeq/Desktop/SEI/Projects/jeddahMalls/frontend/src/components/MyProfile.jsx"],"names":["React","Component","Tab","Tabs","TabList","TabPanel","Bookings","Info","jwt_decode","MyProfile","state","localStorage","usertoken","props","history","push","token","decoded","setState","user","alert","console","log"],"mappings":"ghCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAO,YAAP,CACA,OAASC,GAAT,CAAcC,IAAd,CAAoBC,OAApB,CAA6BC,QAA7B,KAA6C,YAA7C,CACA,MAAO,iCAAP,CACA,MAAOC,CAAAA,QAAP,KAAqB,YAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,UAAP,KAAuB,YAAvB,C,GAEqBC,CAAAA,S,2YACnBC,K,CAAQ,E,wUAICC,YAAY,CAACC,S,yBAChB,KAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,E,8BAEMC,K,CAAQL,YAAY,CAACC,S,uBACLJ,CAAAA,UAAU,CAACQ,KAAD,C,QAA1BC,O,eACN,KAAKC,QAAL,CAAcD,OAAO,CAACE,IAAtB,E,yFAGFC,KAAK,CAAC,wBAAD,CAAL,CACAC,OAAO,CAACC,GAAR,cACA,KAAKT,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB,E,yNAGK,CAEP,MACE,gCACE,oBAAC,IAAD,EAAM,SAAS,CAAC,WAAhB,EACE,oBAAC,OAAD,MACE,oBAAC,GAAD,MACE,8BAAI,yBAAG,KAAK,CAAC,oBAAT,eAAJ,CADF,CADF,CAIE,oBAAC,GAAD,MACE,8BAAI,yBAAG,KAAK,CAAC,gBAAT,gBAAJ,CADF,CAJF,CADF,CAUE,oBAAC,QAAD,MACE,oBAAC,IAAD,EAAM,IAAI,CAAE,KAAKL,KAAjB,EADF,CAVF,CAaE,oBAAC,QAAD,MACE,oBAAC,QAAD,EAAU,IAAI,CAAE,KAAKA,KAArB,EADF,CAbF,CADF,CADF,CAqBD,C,uBAzCoCT,S,SAAlBQ,S","sourcesContent":["import React, { Component } from \"react\";\nimport \"../App.css\";\nimport { Tab, Tabs, TabList, TabPanel } from \"react-tabs\";\nimport \"react-tabs/style/react-tabs.css\";\nimport Bookings from \"./Bookings\";\nimport Info from \"./Info\";\nimport jwt_decode from \"jwt-decode\";\n\nexport default class MyProfile extends Component {\n  state = {};\n\n  async componentDidMount() {\n    try {\n      if (!localStorage.usertoken) {\n        this.props.history.push(\"/login\");\n      } else {\n        const token = localStorage.usertoken;\n        const decoded = await jwt_decode(token);\n        this.setState(decoded.user);\n      }\n    } catch (error) {\n      alert('check your credintials')\n      console.log(error);\n      this.props.history.push(\"/login\");\n    }\n  }\n  render() {\n\n    return (\n      <div>\n        <Tabs className=\"tabStyles\">\n          <TabList>\n            <Tab>\n              <h5><i class=\"fas fa-user-circle\" >My Profile</i></h5>\n            </Tab>\n            <Tab>\n              <h5><i class=\"fas fa-history\" >My Bookings</i></h5>\n            </Tab>\n          </TabList>\n\n          <TabPanel>\n            <Info data={this.state} />\n          </TabPanel>\n          <TabPanel>\n            <Bookings data={this.state} />\n          </TabPanel>\n        </Tabs>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}